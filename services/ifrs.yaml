shortname: ifrs
name: internal-file-registry-service
version: 0.3.6
api:
  events:
    produces:
      internal_file_registered:
        config: file_registered_event_type
        topic_config: file_registered_event_topic
      internal_file_staged:
        config: file_staged_event_type
        topic_config: file_staged_event_topic
      internal_file_deleted:
        config: file_deleted_event_type
        topic_config: file_deleted_event_topic
    consumes:
      validation_success:
        config: files_to_register_type
        topic_config: files_to_register_topic
      unstaged_drs_object_requested:
        config: files_to_stage_type
        topic_config: files_to_stage_topic
      files_to_delete:
        config: files_to_delete_type
        topic_config: files_to_delete_topic
storage:
  mongodb:
    db_name: ifrs
    mode: read-write
  s3:
    - bucket: outbox
      config: outbox_bucket
      mode: read
    - bucket: permanent
      config: permanent_bucket
      mode: read
    - bucket: staging
      config: staging_bucket
      mode: read