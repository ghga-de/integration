<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Internal File Registry Service #  0.3.0-20-g82f39eb-main
ghga-de/internal-file-registry-service
ghga/internal-file-registry-service
Summary #  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque pellentesque posuere ante, ac porttitor nulla eleifend quis. Mauris eget aliquam diam. Duis laoreet blandit luctus. Donec at lacus porta, bibendum lectus dignissim, eleifend est. Etiam sit amet blandit dui. Cras id ante et neque hendrerit vulputate non aliquam eros.
Provided #  REST API #  This service provides no REST API endpoints">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Internal File Registry Service" />
<meta property="og:description" content="Internal File Registry Service #  0.3.0-20-g82f39eb-main
ghga-de/internal-file-registry-service
ghga/internal-file-registry-service
Summary #  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque pellentesque posuere ante, ac porttitor nulla eleifend quis. Mauris eget aliquam diam. Duis laoreet blandit luctus. Donec at lacus porta, bibendum lectus dignissim, eleifend est. Etiam sit amet blandit dui. Cras id ante et neque hendrerit vulputate non aliquam eros.
Provided #  REST API #  This service provides no REST API endpoints" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ghga-de.github.io/integration/docs/services/ifrs/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2023-04-27T08:08:19+00:00" />
<meta property="article:modified_time" content="2023-04-27T08:08:19+00:00" />

<title>Internal File Registry Service | GHGA Integration Documentation</title>
<link rel="manifest" href="/integration/manifest.json">
<link rel="icon" href="/integration/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/integration/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous">
  <script defer src="/integration/flexsearch.min.js"></script>
  <script defer src="/integration/en.search.min.554c08add7e17a56dc8c12622f9d0a8a02b4da56ab10c53e6b85f8b21bc9efe9.js" integrity="sha256-VUwIrdfhelbcjBJiL50KigK02larEMU&#43;a4X4shvJ7&#43;k=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/integration/"><span>GHGA Integration Documentation</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/integration/docs/services/service_communications/" class="">Service Communications</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/integration/docs/services/dcs/" class="">Download Controller Service</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/integration/docs/services/ekss/" class="">Encryption Key Store Service</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/integration/docs/services/ifrs/" class="active">Internal File Registry Service</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/integration/docs/services/irs/" class="">Interrogation Room Service</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/integration/docs/services/ucs/" class="">Upload Controller Service</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/integration/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Internal File Registry Service</strong>

  <label for="toc-control">
    
    <img src="/integration/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#summary">Summary</a></li>
    <li><a href="#provided">Provided</a>
      <ul>
        <li><a href="#rest-api">REST API</a></li>
        <li><a href="#events">Events</a></li>
      </ul>
    </li>
    <li><a href="#consumed">Consumed</a>
      <ul>
        <li><a href="#rest-api-1">REST API</a></li>
        <li><a href="#events-1">Events</a></li>
      </ul>
    </li>
    <li><a href="#configuration">Configuration</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="internal-file-registry-service">
  Internal File Registry Service
  <a class="anchor" href="#internal-file-registry-service">#</a>
</h1>
<p><code>0.3.0-20-g82f39eb-main</code></p>
<p><a href="https://github.com/ghga-de/internal-file-registry-service">ghga-de/internal-file-registry-service</a></p>
<p><a href="https://hub.docker.com/r/ghga/internal-file-registry-service">ghga/internal-file-registry-service</a></p>
<h2 id="summary">
  Summary
  <a class="anchor" href="#summary">#</a>
</h2>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque
pellentesque posuere ante, ac porttitor nulla eleifend quis. Mauris eget
aliquam diam. Duis laoreet blandit luctus. Donec at lacus porta, bibendum
lectus dignissim, eleifend est. Etiam sit amet blandit dui. Cras id ante et
neque hendrerit vulputate non aliquam eros.</p>
<h2 id="provided">
  Provided
  <a class="anchor" href="#provided">#</a>
</h2>
<h3 id="rest-api">
  REST API
  <a class="anchor" href="#rest-api">#</a>
</h3>
<p>This service provides no REST API endpoints</p>
<h3 id="events">
  Events
  <a class="anchor" href="#events">#</a>
</h3>
<p>This service publishes the following event types through a message broker:</p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Type</th>
<th>Consumers</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>internal_file_registry</code></td>
<td><code>file_registered</code></td>
<td><a href="../dcs">Download Controller Service</a><!-- raw HTML omitted --> <a href="../ucs">Upload Controller Service</a><!-- raw HTML omitted --></td>
</tr>
<tr>
<td><code>internal_file_registry</code></td>
<td><code>file_staged_for_download</code></td>
<td></td>
</tr>
</tbody>
</table>


<script src="/integration/mermaid.min.js"></script>

  <script>mermaid.initialize({
  "flowchart": {
    "useMaxWidth":true
  },
  "theme": "default"
}
)</script>




<p class="mermaid">
%%{ init: { 'flowchart': { 'useMaxWidth': true, 'curve': 'linear' } } }%%

flowchart LR

    subgraph t1 [topics]
    
        ifrs_internal_file_registry[internal_file_registry]:::endClass
    
    end

    
        ifrs(Internal File Registry Service):::srcClass --> |"file_registered"| ifrs_internal_file_registry[internal_file_registry]
        
            ifrs_internal_file_registry[internal_file_registry] --> |"file_registered"| dcs(Download Controller Service):::srcClass
        
            ifrs_internal_file_registry[internal_file_registry] --> |"file_registered"| ucs(Upload Controller Service):::srcClass
        

        subgraph c1 [consumers]
        
            dcs(Download Controller Service)
            click dcs "../dcs"
        
            ucs(Upload Controller Service)
            click ucs "../ucs"
        
        end
        ifrs_internal_file_registry:::endClass

    
        ifrs(Internal File Registry Service):::srcClass --> |"file_staged_for_download"| ifrs_internal_file_registry[internal_file_registry]
        

        subgraph c1 [consumers]
        
        end
        ifrs_internal_file_registry:::endClass

    

    click ifrs "../ifrs"

classDef srcClass fill:#CFE7CD,color:#00393F
classDef endClass fill:#007E8C,color:#FFFFFF
</p>

<h2 id="consumed">
  Consumed
  <a class="anchor" href="#consumed">#</a>
</h2>
<h3 id="rest-api-1">
  REST API
  <a class="anchor" href="#rest-api-1">#</a>
</h3>
<p>This service not relies on any REST endpoints</p>
<h3 id="events-1">
  Events
  <a class="anchor" href="#events-1">#</a>
</h3>
<p>This service consumes the following events through the message broker:</p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Type</th>
<th>Producers</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file_interrogation</code></td>
<td><code>file_validation_success</code></td>
<td><a href="../irs">Interrogation Room Service</a><!-- raw HTML omitted --></td>
</tr>
<tr>
<td><code>file_downloads</code></td>
<td><code>file_stage_requested</code></td>
<td></td>
</tr>
</tbody>
</table>


<p class="mermaid">

%%{ init: { 'flowchart': { 'useMaxWidth': true, 'curve': 'linear' } } }%%

flowchart LR
    subgraph c1 [consumer]
        ifrs(Internal File Registry Service):::srcClass
    end

    subgraph t1 [topics]
    
        ifrs_file_downloads[file_downloads]:::endClass
    
        ifrs_file_interrogation[file_interrogation]:::endClass
    
    end

    
        todo(TODO):::srcClass --> |"file_validation_success"| ifrs_file_interrogation[file_interrogation]
        ifrs_file_interrogation[file_interrogation] --> |"file_validation_success"| ifrs
        click ifrs "../ifrs"
    
        todo(TODO):::srcClass --> |"file_stage_requested"| ifrs_file_downloads[file_downloads]
        ifrs_file_downloads[file_downloads] --> |"file_stage_requested"| ifrs
        click ifrs "../ifrs"
    

    
        todo(TODO):::srcClass
    
        todo(TODO):::srcClass
    
    click todo(TODO) "../"

classDef srcClass fill:#CFE7CD,color:#00393F
classDef endClass fill:#007E8C,color:#FFFFFF
</p>

<h2 id="configuration">
  Configuration
  <a class="anchor" href="#configuration">#</a>
</h2>
<p>The service can be configured using the following configuration variables:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kafka_servers</code></td>
<td>A list of Apache Kafka servers to connect to</td>
</tr>
<tr>
<td><code>file_staged_event_topic</code></td>
<td>An Apache Kafka event topic</td>
</tr>
<tr>
<td><code>file_staged_event_type</code></td>
<td>An Apache Kafka event schema</td>
</tr>
<tr>
<td><code>files_to_stage_topic</code></td>
<td>An Apache Kafka event topic</td>
</tr>
<tr>
<td><code>files_to_stage_type</code></td>
<td>An Apache Kafka event schema</td>
</tr>
<tr>
<td><code>files_to_register_topic</code></td>
<td>An Apache Kafka event topic</td>
</tr>
<tr>
<td><code>files_to_register_type</code></td>
<td>An Apache Kafka event schema</td>
</tr>
<tr>
<td><code>file_registered_event_topic</code></td>
<td>An Apache Kafka event topic</td>
</tr>
<tr>
<td><code>file_registered_event_type</code></td>
<td>An Apache Kafka event schema</td>
</tr>
<tr>
<td><code>db_connection_str</code></td>
<td>The MongoDB connection URI</td>
</tr>
<tr>
<td><code>db_name</code></td>
<td>The MongoDB database name</td>
</tr>
<tr>
<td><code>s3_endpoint_url</code></td>
<td>The S3 endpoint URL</td>
</tr>
<tr>
<td><code>s3_access_key_id</code></td>
<td>The S3 access key ID</td>
</tr>
<tr>
<td><code>s3_secret_access_key</code></td>
<td>The S3 secret access key</td>
</tr>
</tbody>
</table>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){if(window.getSelection().toString())return;a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#summary">Summary</a></li>
    <li><a href="#provided">Provided</a>
      <ul>
        <li><a href="#rest-api">REST API</a></li>
        <li><a href="#events">Events</a></li>
      </ul>
    </li>
    <li><a href="#consumed">Consumed</a>
      <ul>
        <li><a href="#rest-api-1">REST API</a></li>
        <li><a href="#events-1">Events</a></li>
      </ul>
    </li>
    <li><a href="#configuration">Configuration</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












